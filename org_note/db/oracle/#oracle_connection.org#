* install注意
**  not support centos 7, but...
雖然support red-hat 7 但是不support centos7, 實際上安裝時會有很多警告, 但是還是裝的起來
建議使用oracle linux 7
* test disConnection problem
** use tnsping.
tnsping 192.168.18.120:1521/XE

#+BEGIN_SRC 
TNS Ping Utility for Linux: Version 11.2.0.1.0 - Production on 12-FEB-2019 17:17:08
Copyright (c) 1997, 2009, Oracle.  All rights reserved.
Used parameter files:
/ora01/app/oracle/product/11.2.0/db_1/network/admin/sqlnet.ora
Used EZCONNECT adapter to resolve the alias
Attempting to contact (DESCRIPTION=(CONNECT_DATA=(SERVICE_NAME=))(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.18.120)(PORT=1521:XE)))
TNS-12545: Connect failed because target host or object does not exist
#+END_SRC
** check listen.ora
1. 找出你oracle listen.ora 在哪裡
 我目前的在這裡: /ora01/app/oracle/product/11.2.0/db_1/network/admin/listener.ora 
2. 
#+BEGIN_SRC 
# listener.ora Network Configuration File: /ora01/app/oracle/product/11.2.0/db_1/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
      (ADDRESS = (PROTOCOL = TCP)(HOST = 0.0.0.0)(PORT = 1521))
    )
  )
ADR_BASE_LISTENER = /ora01/app/oracle
#+END_SRC
3. lsnrctl status 
檢查oracle狀態
4. lsnrctl stop
關閉oracle
5. lsnrctl start
打開oracle

* encounter ORA-12516/ORA-00020
** problem
ORA-12516: TNS:listener could not find available handler with matching protocol stack
ORA-00020: maximum number of processes (%s) exceeded
** solving
   We can get this second message because Oracle creates Operating System
   processes to handle Connections (or Sessions) 
 - which means Processes, Sessions (and as we’ll soon see..) Transactions are all related.
 The default values in Oracle XE for these parameters are:
 #+BEGIN_SRC 
 Processes = 40
 Sessions = 49
 Transactions = 53
#+END_SRC
1. connect sys as sysdba
2. ALTER SYSTEM commands
   The Oracle Documentation states that TRANSACTIONS is derived from SESSIONS,
   which in turn is derived from PROCESSES, thus:
   #+BEGIN_SRC 
    PROCESSES = 40 to Operating System Dependant
    SESSIONS = (1.1 * PROCESSES) + 5
    TRANSACTIONS = 1.1 * SESSIONS   
   #+END_SRC
  So, what value to start with for PROCESSES?  Trebling it is as good a start as any, then I’d add a few more for good measure..  Here are the values I recommend:
   #+BEGIN_SRC 
    PROCESSES = 150
    SESSIONS = 300
    TRANSACTIONS = 330
   #+END_SRC
  type the following commands:
   #+BEGIN_SRC 
    alter system set processes = 150 scope = spfile;
    alter system set sessions = 300 scope = spfile;
    alter system set transactions = 330 scope = spfile;  
   #+END_SRC
  then to make the settings take effect, we need to bounce the database..
   #+BEGIN_SRC 
    shutdown immediate;
    startup;
   #+END_SRC
3. Verify the new parameters, with this simple select statement..
 #+BEGIN_SRC 
  select name, value from v$parameter where name in ('processes', 'sessions', 'transactions'); 
 #+END_SRC
[[https://www.fatlemon.co.uk/2009/06/increasing-processes-sessions-and-transactions-in-oracle-xe/][Increasing Processes, Sessions and Transactions in Oracle XE]]



